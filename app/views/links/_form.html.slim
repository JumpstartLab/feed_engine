.row
  .six.columns
    = simple_form_for @growl, :url => growls_path, :html => { :id => 'link_form' } do |f|
      = f.input :type, :as => :hidden, :input_html => { :value => "Link" }
      = f.input :link, :class => "medium input-text required", :maxlength => "2048", label: "URL to Link", as: :string, input_html: { id: "link_link"}
      = f.input :comment, input_html: { id: "link_comment" }
      p
        | You have&nbsp;
        span#charsLeftLink
        |  chars left.
      = simple_fields_for :meta_data do |m|
        = m.input :title, as: :hidden, :input_html => { id: "link_title"}
        = m.input :description, as: :hidden, :input_html => { id: "link_description"}
        = m.input :thumbnail_url, as: :hidden, :input_html => { id: "link_thumbnail_url"}
      = f.button :submit, "Create Link"
  .six.columns
    #loading(style="display:none;")= image_tag "loading_big.gif"
    h4#title(style="display:none;")
    #description(style="display:none;")
    img#thumbnail(style="display:none;" src="")

coffee:
  jQuery ->
    $("#link_form").validate()
    $("#link_comment").limit "256", "#charsLeftLink"
    $("#link_link").blur ->
      if $(".error").length > 0
        $(".error").html("URL is invalid. It must start with http")